package com.supinfo.suptravel.dao;

import java.util.List;

import javax.persistence.EntityManager;
import javax.persistence.Persistence;

public class TripDAO {

    public Long getNumberTrip() {
    	EntityManager entityManager = Persistence.createEntityManagerFactory("SupTravel").createEntityManager();
        Long countuser = (Long) entityManager.createQuery("select count (id) from Trip").getSingleResult();
        entityManager.close();
        return countuser;
    }
    
    public List<String> listTrips() {
    	EntityManager entityManager = Persistence.createEntityManagerFactory("SupTravel").createEntityManager();
        List<String> listName = entityManager.createQuery("select tripname from Trip").getResultList();
        entityManager.close();
        return listName;
    }
    
    public List<String> listTripsbyCampus(String campus) {
    	EntityManager entityManager = Persistence.createEntityManagerFactory("SupTravel").createEntityManager();
        List<String> listName = (List<String>) entityManager.createQuery("select tripname from Trip where campus= :campus").setParameter("campus", campus).getResultList();
        entityManager.close();
        return listName;
    }
}
